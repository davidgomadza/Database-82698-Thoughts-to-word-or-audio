<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>GenesisDecoder ‚Äî Interactive Demonstrator</title>
  <style>
    body{font-family:Inter,system-ui,Segoe UI,Roboto,Helvetica,Arial;background:#071421;color:#e6eef6;margin:0}
    .wrap{max-width:1100px;margin:24px auto;padding:20px}
    h1{margin:0 0 6px;font-size:20px}
    .grid{display:grid;grid-template-columns:1fr 420px;gap:18px}
    .card{background:#0f1720;padding:16px;border-radius:12px;box-shadow:0 8px 30px rgba(2,6,23,0.6)}
    button{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#8bd3ff;padding:8px 10px;border-radius:8px;cursor:pointer}
    .controls{display:flex;gap:8px;flex-wrap:wrap}
    pre{white-space:pre-wrap;font-family:ui-monospace,monospace;font-size:13px}
    .bodymap{display:flex;flex-direction:column;gap:6px}
    .maprow{display:flex;gap:6px}
    .mapcell{background:rgba(255,255,255,0.02);padding:8px;border-radius:6px;min-width:64px;text-align:center}
    .big-out{font-size:28px;margin:8px 0}
    label{display:block;font-size:12px;color:#95a1b0;margin-bottom:6px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>GenesisDecoder ‚Äî Interactive demonstrator</h1>
    <p style="color:#95a1b0;margin:6px 0">A simulated, interactive version of your `GenesisDecoder` that uses core rules and example sequences taken from your uploaded Genesis PDF (Clap, Beauty, Alphabet mapping, predictive text, etc.).</p><div class="grid">
  <div class="card">
    <h3>Live simulation</h3>
    <div style="margin-top:8px">
      <label>Choose example sequence</label>
      <div class="controls">
        <button onclick="simulate('CLAP')">Simulate: Clap</button>
        <button onclick="simulate('BEAUTY')">Simulate: Beauty</button>
        <button onclick="simulate('TIME')">Simulate: Time</button>
        <button onclick="simulate('CUSTOM')">Simulate: Custom</button>
      </div>
    </div>

    <div style="margin-top:12px">
      <label>Raw simulated sensor stream</label>
      <pre id="rawStream">‚Äî</pre>
    </div>

    <div style="margin-top:12px">
      <label>Extracted sequence</label>
      <pre id="sequence">‚Äî</pre>
    </div>

    <div style="margin-top:12px">
      <label>Predictive suggestion</label>
      <pre id="predict">‚Äî</pre>
    </div>

    <div style="margin-top:12px">
      <label>Decoded Thought</label>
      <div class="big-out" id="decoded">‚Äî</div>
    </div>

    <div style="margin-top:12px">
      <label>Play simulated 'acoustic' brain-language (synth)</label>
      <div class="controls"><button onclick="playAcoustic()">Play acoustic</button></div>
    </div>
  </div>

  <div class="card">
    <h3>Model & mappings</h3>
    <p style="color:#95a1b0">This demo implements a simplified version of the rules described in your PDF: a body-position alphabet map, a few example sequences, and a predictive helper. The goal is to show an executable, inspectable prototype of the system.</p>

    <h4 style="margin-top:10px">Body alphabet map (front)</h4>
    <div class="bodymap" id="bodyMap"></div>

    <h4 style="margin-top:10px">Brain language dictionary (sample)</h4>
    <pre id="dictionary"></pre>

    <h4 style="margin-top:10px">Notes</h4>
    <p style="color:#95a1b0;font-size:13px">This is a simulation. It does not measure real EM signals ‚Äî it uses the conceptual mappings and sequences pulled from your PDF to show how the pipeline could look in code.</p>
  </div>
</div>

<div style="height:18px"></div>

<div style="display:flex;gap:12px;align-items:center">
  <button onclick="downloadDemo()">Download .html</button>
  <button onclick="copyHTML()">Copy HTML</button>
</div>

  </div>  <script>
    // --- Simple data model derived from the uploaded PDF (sample entries) ---
    const brainLanguageMap = new Map();

    // Clap sequence: constructed from PDF description: Right back pinpoint -> right ear vibration -> elbows activate -> clap -> downward escape -> shoulder deflation.
    brainLanguageMap.set('CLAP_SEQUENCE', {symbol:'Clap', glyph:'üëè', archetype:'Action', sequence:['R_BACK_PIN','R_EAR_VIB','R_ELBOW_CMD','L_ELBOW_CMD','HANDS_CLAP','SOUND_DOWN','SHOULDER_DEFLATE']});

    // Beauty: face-focused sequence (top face to chin, left/right eye, cheek smile, wink)
    brainLanguageMap.set('BEAUTY_SEQUENCE', {symbol:'Beauty', glyph:'üòç', archetype:'Perception', sequence:['FACE_TOP','LEFT_EYE','RIGHT_EYE','LEFT_CHEEK_SMILE','LEFT_WINK','SIGH']});

    // Time: example built from PDF hints (right ear/time positions, wristwatch position, downward spine movement)
    brainLanguageMap.set('TIME_SEQUENCE', {symbol:'Time', glyph:'‚è∞', archetype:'Concept', sequence:['R_BACK_TIME_PIN','R_EAR_TICK','WRIST_POS','SPINE_FLOW','SHOULDER_DROP']});

    // Small helper for impulse fallback (from your Java snippet)
    function decodeImpulsePattern(raw){
      if(raw.includes('ŒîŒ±7')) return {symbol:'Curiosity',glyph:'üåÄ',archetype:'Explorer'};
      if(raw.includes('Œ≤Œ≥3')) return {symbol:'Fear',glyph:'‚ö†Ô∏è',archetype:'Guardian'};
      if(raw.includes('Œ©Œª2')) return {symbol:'Joy',glyph:'üåà',archetype:'Creator'};
      if(raw.includes('Œ®œÄ9')) return {symbol:'Legacy',glyph:'üîó',archetype:'Architect'};
      return {symbol:'Unknown',glyph:'‚ùì',archetype:'Unmapped'};
    }

    // --- Body alphabet mapping derived from the PDF ---
    // Right collarbone = A, left collarbone = B, alternate down the body. This demo stores only A..L for brevity.
    const bodyAlphabet = [
      {pos:'Right collarbone',letter:'A'}, {pos:'Left collarbone',letter:'B'},
      {pos:'Right upper chest',letter:'C'}, {pos:'Left upper chest',letter:'D'},
      {pos:'Right lower chest',letter:'E'}, {pos:'Left lower chest',letter:'F'},
      {pos:'Right belly',letter:'G'}, {pos:'Left belly',letter:'H'},
      {pos:'Right hip',letter:'I'}, {pos:'Left hip',letter:'J'},
      {pos:'Right thigh',letter:'K'}, {pos:'Left thigh',letter:'L'}
    ];

    // Render body map
    const mapEl = document.getElementById('bodyMap');
    for(let i=0;i<Math.ceil(bodyAlphabet.length/2);i++){
      const left = bodyAlphabet[i*2+1];
      const right = bodyAlphabet[i*2];
      const row = document.createElement('div'); row.className='maprow';
      const c1 = document.createElement('div'); c1.className='mapcell'; c1.textContent = right ? right.letter+'\n'+right.pos : '';
      const c2 = document.createElement('div'); c2.className='mapcell'; c2.textContent = left ? left.letter+'\n'+left.pos : '';
      row.appendChild(c1); row.appendChild(c2); mapEl.appendChild(row);
    }

    // Show dictionary
    document.getElementById('dictionary').textContent = JSON.stringify(Object.fromEntries(brainLanguageMap),null,2);

    // --- Prediction helper (very simplified): use first item in sequence -> map to starting letters ---
    function predictiveAlgorithm(extractedSequence){
      // If the extracted sequence starts with a known sequence prefix, return the mapped word early
      for(const [k,v] of brainLanguageMap){
        if(k.startsWith(extractedSequence) || v.sequence.join('|').includes(extractedSequence)) return v.symbol + ' (predicted)';
      }
      // fallback: use alphabet mapping heuristic
      if(extractedSequence.startsWith('R_')) return 'Likely: words stored on right side';
      if(extractedSequence.startsWith('L_')) return 'Likely: words stored on left side';
      return 'No strong prediction';
    }

    // --- Simulation pipeline ---
    function simulate(kind){
      let raw = '';
      let seq = '';
      if(kind==='CLAP'){
        raw = 'EM_RAW:ŒîŒ±7|pattern:R_BACK_PIN->R_EAR_VIB->R_ELBOW_CMD->L_ELBOW_CMD->HANDS_CLAP->SOUND_DOWN->SHOULDER_DEFLATE';
        seq = 'R_BACK_PIN';
      } else if(kind==='BEAUTY'){
        raw = 'EM_RAW:Œ©Œª2|pattern:FACE_TOP->LEFT_EYE->RIGHT_EYE->LEFT_CHEEK_SMILE->LEFT_WINK->SIGH';
        seq = 'FACE_TOP';
      } else if(kind==='TIME'){
        raw = 'EM_RAW:Œ≤Œ≥3|pattern:R_BACK_TIME_PIN->R_EAR_TICK->WRIST_POS->SPINE_FLOW->SHOULDER_DROP';
        seq = 'R_BACK_TIME_PIN';
      } else {
        raw = prompt('Paste simulated raw EM string (example includes symbols like ŒîŒ±7, Œ≤Œ≥3, Œ©Œª2)') || 'EM_RAW:Œ®œÄ9|pattern:UNKNOWN';
        seq = raw.split('pattern:')[1] ? raw.split('pattern:')[1].split('->')[0] : 'UNKNOWN';
      }

      document.getElementById('rawStream').textContent = raw;
      document.getElementById('sequence').textContent = seq;

      // Predict
      const pred = predictiveAlgorithm(seq);
      document.getElementById('predict').textContent = pred;

      // Try core decoding
      // find an entry whose sequence contains the first token
      let decoded = null;
      for(const [k,v] of brainLanguageMap){
        if(v.sequence.includes(seq)) { decoded = v; break; }
      }

      if(!decoded){
        // fallback: check impulses
        const fallback = decodeImpulsePattern(raw);
        document.getElementById('decoded').textContent = `${fallback.symbol} ${fallback.glyph} ‚Äî ${fallback.archetype}`;
      } else {
        document.getElementById('decoded').textContent = `${decoded.symbol} ${decoded.glyph} ‚Äî ${decoded.archetype}`;
      }
    }

    // Play synthetic acoustic (tiny WebAudio beep pattern mapped to sequence)
    function playAcoustic(){
      const ctx = new (window.AudioContext||window.webkitAudioContext)();
      const o = ctx.createOscillator();
      const g = ctx.createGain();
      o.type='sine'; o.frequency.value = 220; g.gain.value=0.0005; // very quiet to match PDF notes about low db
      o.connect(g); g.connect(ctx.destination);
      o.start();
      setTimeout(()=>{o.frequency.value=440;},300);
      setTimeout(()=>{o.stop(); ctx.close();},800);
    }

    // Download demo
    function downloadDemo(){
      const html = '<!doctype html>\n' + document.documentElement.outerHTML;
      const blob = new Blob([html],{type:'text/html'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a'); a.href=url; a.download='GenesisDecoder_interactive.html'; a.click(); URL.revokeObjectURL(url);
    }

    // Copy HTML
    async function copyHTML(){
      try{ await navigator.clipboard.writeText(document.documentElement.outerHTML); alert('HTML copied'); }catch(e){ alert('Copy failed'); }
    }

    // Expose a quick demo on load
    simulate('CLAP');
  </script></body>
</html>